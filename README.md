# Smart-contract-based-public-integrity-auditing-for-cloud-storage-against-malicious-auditor
This repository stores the source code of the smart contract in paper "Smart contract-based public integrity auditing for cloud storage against malicious auditor". We construct two smart contracts, namely $SC\_A$ and $SC\_B$, to assist in the execution of the data auditing.




##$SC\_A$
The primary function of $SC\_A$ is to produce sampled blocks and the corresponding random numbers in each auditing period. The content of contract $SC\_A$ is negotiated by the CSP and DO, encompassing details such as the auditing frequency (daily, weekly, monthly, or on-demand) and how many blocks were sampled. Ultimately, the CSP generates and deploys the contract $SC\_A$ to the blockchain. The address and its ABI will be published publicly. $SC\_A$ will generate the sampled blocks' indexes and the random values using current blockchain information like block difficulty, timestamp, and other public data. The challenge values generated by $SC\_A$ will be stored on the blockchain through the logging mechanism. The biggest advantage of using smart contracts, instead of relying on the TPA for generating challenge values, is the mitigation of collusion attack between the CSP and TPA. The immutability features of blockchain prevent biased sample blocks from being generated by the TPA.

##$SC\_B$
The main function of $SC\_B$ is to form the auditing log which contains the key metadata in the auditing process along with verification results and store it on the blockchain. The content of $SC\_B$ is negotiated by the DO and TPA, and ultimately generated by TPA. Similar to $SC\_A$, the contract address and its ABI are made public. Based on the traceability features of the blockchain, contract $SC\_B$ ensures the transparency of the auditing process. Additionally, it solidifies auditing evidence due to the blockchain's immutability. This transparency and immutability allow anyone to independently verify the auditing results, serving as a form of supervision over the TPA's work.
